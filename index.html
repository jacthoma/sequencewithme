<html>
<head>
  <meta charset="utf-8">
  <title>sequencewithme</title>
  <script type="text/javascript" src="js/canvas.js"></script>
  <link rel="stylesheet" type="text/css" href="css/main.css">
</head>
<body>
	<script type="text/javascript" src="js/jquery-1.9.1.js"></script> 
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>

	<!-- Main view -->
	<div id="top">
		<span style="font-size: 200%;">sequencewith.me</span>
		<span style="padding-left: 80px">
	    <button type="button" onclick="sequence.play_pause()">❙❙ / ►</button>

	    <button type="button" onclick="sequence.refresh()">reset</button>
	    </span>
  	</div>
  	</center>
  	<div>
	  	<center><canvas id="MainCanvas" width="470" height="470"></canvas></center>
	</div>

  	<script>
  		var space = false;
		$(document).ready(function() {
			// Handle window resizing
			location();
			$(window).resize(location
			);
			function location(){
				var p = $("#MainCanvas");
				var offset = p.offset();
				$("#top").offset({left: offset.left});
			}

			// Space bar to stop/star
			$(document).keydown(function(e) {
				if (e.keyCode == '32') {
					e.preventDefault()
					sequence.space();
				}
			});
			var socket = io.connect();
			init(socket);

			// Recieve a state
			socket.on('new state', function(data){
				sequence.recieve(data);
			});
		});
  	</script>
</body>
</html>